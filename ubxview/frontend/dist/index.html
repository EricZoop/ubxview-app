<!DOCTYPE html>
<html>

<head>
    <title>ARCView</title>
    <link rel="icon" href="./assets/dot-launch.ico" type="image/x-icon" />


  <script type="module" crossorigin src="./assets/index-Kc2l-Gd6.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-DD1uu_eg.css">
</head>

<body>

    <div id="info">
        <div class="logo-title">

            <a href="."><img src="./assets/dot.png" alt="Logo" class="logo" /></a>
            <h1 class="noselect">ARCView</h1>
            <p class="version"> <a href="https://github.com/EricZoop/ubxview-app" target="_blank"
                    title="Developed by Ji Park & Eric Zipor">v7.1.4</a></p>
        </div>



        <div style="font-weight: 350; font-size: 12px;">Model real-time kinematic (RTK) drones and ADS-B data live for
            radar auto-registration workflows, powered by u-blox and uAvionix.</div>
        <hr style="border-width: 0px;">

        <!--<h2>Read Capture </h2>-->


        <div class="controls-container">

            <span style="font-weight: 500; text-decoration: none; color: inherit;">
                Select Capture
            </span>

            <div id="fileListContainer" class="file-list-container">
                <!-- Populated dynamically by fileManager.js -->
            </div>


            <button id="openFileBtn" class="custom-file">
                <span id="fileLabel">
                    .ubx, .txt, .csv, .log, .ndjson
                </span>

                <svg xmlns="http://www.w3.org/2000/svg"
                    height="14"
                    width="14"
                    viewBox="0 0 512 512"
                    style="margin-left: auto; margin-right: 0;">
                    <path fill="#fff"
                        d="M128 64c0-35.3 28.7-64 64-64L352 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-112 174.1 0-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39L128 288l0-224zm0 224l0 48L24 336c-13.3 0-24-10.7-24-24s10.7-24 24-24l104 0zM512 128l-128 0L384 0 512 128z" />

                    </svg>
            </button>

            <button id="addFileBtn" class="custom-file" style="cursor:pointer; display:none;">
                <span id="fileLabel">
                    .ubx, .txt, .csv, .log, .ndjson
                </span>

                <svg xmlns="http://www.w3.org/2000/svg"
                    height="14"
                    width="14"
                    viewBox="0 0 512 512"
                    style="margin-left: auto; margin-right: 0;">
                    <path fill="#fff"
                        d="M128 64c0-35.3 28.7-64 64-64L352 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-112 174.1 0-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39L128 288l0-224zm0 224l0 48L24 336c-13.3 0-24-10.7-24-24s10.7-24 24-24l104 0zM512 128l-128 0L384 0 512 128z" />

                    </svg>
            </button>


            <div style="font-weight: 500;" class="noselect">Poll Rate (ms)</div>
            <div class="polling-rate-container">
                <div class="polling-rate-controls">
                    <input type="number" id="pollRateInput" placeholder="1000" min="10" step="10" value="10"
                        class="polling-input" />
                    <button id="updatePollRateBtn" class="polling-button">Set</button>
                </div>
            </div>




            <!--<h2>Scene Visuals</h2>-->



            <div style="font-weight: 500;" class="noselect">Map Opacity</div>
            <div class="slider-wrapper">
                <input type="range" id="opacitySlider" min="0" max="1" step="0.1" value="0.5" />
                <div id="opacityTooltip" class="slider-tooltip">0.5</div>
            </div>

            <div style="font-weight: 500;" class="noselect">Canvas</div>
            <div class="view-toggle">
                <button class="view-option active" data-view="satellite">Satellite</button>
                <button class="view-option" data-view="streetview">Streetview</button>
            </div>

            <script>
                document.querySelectorAll('.view-option').forEach(button => {
                    button.addEventListener('click', () => {
                        document.querySelectorAll('.view-option').forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');

                        const selectedView = button.dataset.view;
                        console.log('Selected view:', selectedView);
                    });
                });    
            </script>


            <div style="font-weight: 500;" class="noselect">Render Distance</div>
            <div class="plus-minus-selector">
                <button id="renderMinus" type="button">&#8722;</button>
                <div id="renderValue" class="value-display">17</div>
                <button id="renderPlus" type="button">&#x2b;</button>
            </div>



<div class="trail-controls">
                <div class="trail-section">
                    <label for="trail-preset">Plot Palette</label>
                    <select id="trail-preset" style="font-size: 11.56px; font-weight: 400;">
                        <option value="">Custom</option>
                        <option value="elevation">Elevation</option>
                        <option value="classify">Associate</option>
                        <option value="neon">Neon</option>
                        <option value="invincible">Invincible</option>
                    </select>
                </div>

                <div class="trail-grid">

                    <div class="trail-group">
                        <label for="trail-head-color">Head</label>
                        <input type="color" id="trail-head-color" class="color-picker" value="#FF0000">
                    </div>

                    <div class="trail-group">
                        <label for="trail-tail-color">Tail</label>
                        <input type="color" id="trail-tail-color" class="color-picker" value="#FF0000">
                    </div>

                    <div class="trail-group line-composite">
                        <label for="trail-line-color">Line</label>
                        <input type="color" id="trail-line-color" class="color-picker" value="#FF0000">
                        <input type="checkbox" id="show-lines-toggle" class="trail-toggle"
                            style="transform: translateY(2px);" checked title="Toggle Lines">
                    </div>

                    <div class="trail-group" style="transform: translate(7px, -5px);">
                        <label for="show-label-toggle" style="transform: translateX(8.5px);">
                            Tags
                        </label>
                        <input type="checkbox" id="show-label-toggle" class="trail-toggle"
                            style="transform: translateY(2px);" checked>
                    </div>

                </div>
            </div>



<div class="trail-grid" style="grid-template-columns: 1fr 0fr 2.75fr 2.75fr; padding-bottom: 5px;">
    
    <div class="trail-group" style="grid-column: 1; align-items: center; transform: translateY(-4px);">
        <label for="topo-toggle" style="font-size: 11.56px;">DTED</label>
        <input type="checkbox" id="topo-toggle" class="trail-toggle" style="transform: translateY(2px);">
    </div>
    
    <div class="trail-group" style="grid-column: 3;">
        <label for="topo-scale" style="font-size: 11.56px;">Scale</label>
        <input type="number" id="topo-scale" class="terrain-input" value="10" step="1">
    </div>

    <div class="trail-group" style="grid-column: 4;">
        <label for="topo-segments" style="font-size: 11.56px;">Polygons</label>
        <input type="number" id="topo-segments" class="terrain-input" value="16" min="1" max="256">
    </div>
    
</div>



        </div>






    </div>


        <div id="stats">
        <div class="stats-group">
            <h3>
                Rover Stats
            </h3>
            <table><tbody>
            <tr><td>Points:</td><td><span id="${talkerId}-points-stat">0</span></td></tr>
            <tr><td>Telemetry:</td><td><span id="${talkerId}-hz-stat">0.0</span> Hz</td></tr>
            <tr><td>Latitude:</td><td><span id="${talkerId}-lat-stat">0.0</span>&deg;</td></tr>
            <tr><td>Longitude:</td><td><span id="${talkerId}-long-stat">0.0</span>&deg;</td></tr>
            <tr><td>Alt (MSL):</td><td><span id="${talkerId}-altitude-stat">0.0</span> m</td></tr>
            <tr><td>Alt (WGS84):</td><td><span id="${talkerId}-altwsg84-stat">0.0</span> m</td></tr>
            <tr><td>Speed:</td><td><span id="${talkerId}-speed-stat">0.0</span> m/s</td></tr>
            <tr><td>2D Distance:</td><td><span id="${talkerId}-twod-stat">0.0</span> m</td></tr>
            <tr><td>3D Distance:</td><td><span id="${talkerId}-threed-stat">0.0</span> m</td></tr>
            <tr><td>RTH Distance:</td><td><span id="${talkerId}-rth-stat">0.0</span> m</td></tr>
            <tr><td>Satellites:</td><td><span id="${talkerId}-satellites-stat">0</span></td></tr>
            <tr><td>Start Time:</td><td><span id="${talkerId}-start-stat">HH:mm:ss</span></td></tr>
            <tr><td>End Time:</td><td><span id="${talkerId}-end-stat">HH:mm:ss</span></td></tr>
            <tr><td>Duration:</td><td><span id="${talkerId}-duration-stat">0.0</span> s</td></tr>
            </tbody></table>
        </div>
        <div class="stats-group">
            <h3>
                Aircraft Stats
            </h3>
            <table><tbody>
                <tr><td>Points:</td><td><span id="${icao}-points-stat">0</span></td></tr>
                <tr><td>Hex ID:</td><td><a href="https://globe.adsbexchange.com">?</a></td></tr>
                <tr><td>Registration:</td><td><span id="${icao}-reg-stat">?</span></td></tr>
                <tr><td>Operator:</td><td><span id="${icao}-operator-stat">?</span></td></tr>
                <tr><td>Type:</td><td><span id="${icao}-type-stat">?</span></td></tr>
                <tr><td>Latitude:</td><td><span id="${icao}-lat-stat">0.0</span>&deg;</td></tr>
                <tr><td>Longitude:</td><td><span id="${icao}-long-stat">0.0</span>&deg;</td></tr>
                <tr><td>Alt (MSL):</td><td><span id="${icao}-baroalt-stat">0.0</span> m</td></tr>
                <tr><td>Alt (WGS84):</td><td><span id="${icao}-geoalt-stat">0.0</span> m</td></tr>
                <tr><td>Heading:</td><td><span id="${icao}-hdg-stat">0.0</span>&deg;</td></tr>
                <tr><td>Hor Vel:</td><td><span id="${icao}-hvel-stat">0.0</span> m/s</td></tr>
                <tr><td>Ver Vel:</td><td><span id="${icao}-vvel-stat">0.0</span> m/s</td></tr>
                <tr><td>2D Distance:</td><td><span id="${icao}-gdist-stat">0.0</span> m</td></tr>
                <tr><td>Last Seen:</td><td><span id="${icao}-lastseen-stat">HH:mm:ss</span></td></tr>
                <tr><td>Duration:</td><td><span id="${icao}-duration-stat">0.0</span> s</td></tr>
            </tbody></table>
        </div>
        <div class="stats-group">
            <h3>
                Radar Track Stats
            </h3>
            <table><tbody>
                <tr><td>Points:</td><td><span id="${radar}-points-stat">0</span></td></tr>
                <tr><td>Ext ID:</td><td><span id="${radar}-points-stat">?</span></td></tr>
                <tr><td>RCS:</td><td><span id="${radar}-points-stat">0</span> m&sup2;</td></tr>
                <tr><td>Latitude:</td><td><span id="${radar}-lat-stat">0.0</span>&deg;</td></tr>
                <tr><td>Longitude:</td><td><span id="${radar}-long-stat">0.0</span>&deg;</td></tr>
                <tr><td>Alt:</td><td><span id="${radar}-geoalt-stat">0.0</span> m</td></tr>
                <tr><td>Vel:</td><td><span id="${radar}-vel-stat">0.0</span> m/s</td></tr>
                <tr><td>Duration:</td><td><span id="${radar}-duration-stat">0.0</span> s</td></tr>
            </tbody></table>
        </div>
    </div>



    <div id="controls" class="noselect">
        <div class="control-row">
            <div class="keys">
                <span class="key">&larr;</span>
                <span class="key">&uarr;</span>
                <span class="key">&rarr;</span>
                <span class="key">&darr;</span>
            </div>
            <div class="action">Look</div>
        </div>
        <div class="control-row">
            <div class="keys">
                <span class="key">W</span>
                <span class="key">S</span>
                <span class="key">A</span>
                <span class="key">D</span>
            </div>
            <div class="action">Move</div>
        </div>
        <div class="control-row">
            <div class="keys">
                <span class="key">Q</span>
                <span class="key">E</span>
            </div>
            <div class="action">Down / Up</div>
        </div>
        <div class="control-row" id="reorient-control-row">
            <div class="keys">
                <span class="key">R</span>
            </div>
            <div class="action">Reorientate</div>
        </div>
        <div class="control-row" id="cinematic-control-row">
            <div class="keys">
                <span class="key">C</span>
            </div>
            <div class="action">Cinematic</div>
        </div>
        <div class="control-row" id="birdseye-control-row">
            <div class="keys">
                <span class="key">B</span>
            </div>
            <div class="action">Bird's-eye</div>
        </div>
    </div>


    <div id="playback">
        <div class="controls">
            <button id="rewind">
                <img src="assets/seek.png" title="Rewind" style="transform: scaleX(-1);" />
            </button>

            <button id="playPause">
                <span id="playIcon"><img src="assets/play.png" title="Play" /></span>
                <span id="pauseIcon" style="display:none;"><img src="assets/pause.png" title="Pause" /></span>
            </button>

            <button id="forward">
                <img src="assets/seek.png" title="Seek" />
            </button>
        </div>

        <div class="slider-container"
            style="display: flex; flex-direction: column; flex-grow: 1; align-items: center; margin: 0 15px;">
            <input type="range" id="timeSlider" min="0" max="1" step="1" value="1" style="width: 100%;" />

        </div>

        <span id="timeDisplay" style="font-variant-numeric: tabular-nums;">--:--:--<!-- / --:--:-- --></span>

        <div class="speed-control-container">
            <div id="speedOptions" class="speed-options">
                <button class="speed-option" data-speed="0.5">0.5x</button>
                <button class="speed-option active" data-speed="1">1x</button>
                <button class="speed-option" data-speed="2.5">2.5x</button>
                <button class="speed-option" data-speed="5">5x</button>
                <button class="speed-option" data-speed="10">10x</button>
                <button class="speed-option" data-speed="100">100x</button>
            </div>

            <button id="adjustSpeed">
                <img src="./assets/tachometer.png" title="Adjust Speed" />
            </button>
        </div>

        <button id="goLive">
            <img src="./assets/stream.png" title="Go to Live" />
        </button>
    </div>

<div id="com-reader" class="noselect">

    <div class="section-label">Data Reader</div>

    <div class="com-reader-row top-row">
        <button id="select-port-button">Select Port</button>
        <select id="baud-rate">
            <option>9600</option>
            <option>19200</option>
            <option>38400</option>
            <option>57600</option>
            <option selected>115200</option>
        </select>
        <!-- RTK Survey-In button â€“ disabled until a port is selected -->
        <button id="survey-button" disabled title="RTK Survey-In" style="margin-left: auto; padding: 0.5em 0.5em;">
            <img src="./assets/satellite.png" alt="Survey-In" width="16" height="16">
        </button>
    </div>

    <div class="com-reader-row top-row">
        <input type="text" id="url-input"
               placeholder="http://###.###.###.###/api/v1/traffic" value="">
    </div>

    <div class="com-reader-row bottom-row">
        <button id="start-button">Record</button>
        <button id="end-button" disabled>Stop</button>
        <span id="status-message">Disconnected</span>
    </div>

</div>

</body>

</html>